book метод:

Производит бронирование билета на основе предоставленных данных.
Проверяет, свободно ли место, и возвращает сообщение "The place is occupied" в случае занятости.
В противном случае, обновляет статус билета, сохраняет изменения и возвращает сообщение "Success".
deleteReservation метод:

Производит отмену бронирования билета на основе идентификатора билета.
Обновляет статус билета, убирает идентификатор пассажира и сохраняет изменения.
getAllTrains метод:

Возвращает Flux с информацией о всех поездах, преобразованных в DTO с использованием MapperTrainDTO.
getTickets метод:

Возвращает Flux с информацией о билетах для указанных поездов на основе Flux идентификаторов поездов.
Для каждого поезда из Flux строится новый Flux билетов, преобразованных в DTO с использованием MapperTicketDTO.